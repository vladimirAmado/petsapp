<template>
  <div class="home-block">
    <div class="home-block__background">
      <div class="home-block__background-lines">
        <svg
          width="100%"
          height="409"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            ref="lineTop"
            stroke-dasharray="988.00 988.00"
            stroke-dashoffset="988.00"
            d="M41 272C109.783 253.167 337.797 291 332.923 225C331 157 -107.5 85 65.5 1"
            stroke="#ECC19A"
          />
          <path
            ref="lineMiddle"
            d="M40.2744 272.218C18.7047 280.907 6 291.569 6 303.091C6 332.312 87.708 356 188.5 356C289.292 356 371 332.312 371 303.091C371 291.024 357.067 279.901 333.61 271"
            stroke="#ECC19A"
          />
          <path
            ref="lineBottom"
            d="M-1.95976 277.892C-29.6754 291.385 -46 307.942 -46 325.836C-46 371.214 58.9892 408 188.5 408C318.011 408 423 371.214 423 325.836C423 307.097 405.097 289.823 374.956 276"
            stroke="#ECC19A"
          />
          <circle
            ref="circle1"
            style="opacity:0; transition: 0.3s ease-in-out"
            cx="34"
            cy="386"
            r="9"
            fill="#F9C001"
          />
          <circle
            ref="circle2"
            style="opacity:0; transition: 0.3s ease-in-out"
            cx="312"
            cy="395"
            r="9"
            fill="#9DD1D4"
          />
          <circle
            ref="circle3"
            style="opacity:0; transition: 0.3s ease-in-out"
            cx="226"
            cy="355"
            r="13"
            fill="#7511F4"
          />
        </svg>
      </div>
    </div>
    <div class="home-block__top">
      <h1 class="home-block__top-title">
        <span>My </span>Pets
      </h1>
      <p class="home-block__top-desc">
        Taking care of a pet is my favorite, it helps me to gaimr stress and fatigue.
      </p>
    </div>
    <div class="home-block__image-wrap">
      <svg
        width="100%"
        height="100%"
        viewBox="0 0 184 263"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <g clip-path="url(#clip0)">
          <path
            d="M73.185 202.505L70.2807 208.263C64.3708 211.425 53.201 210.822 46.4861 209.826C32.1735 207.678 20.9858 194.552 17.3242 181.103C13.8355 168.341 19.4234 157.338 21.8505 145.101C22.3279 142.634 22.617 140.135 22.7153 137.625C28.1558 136.872 33.4116 135.124 38.2206 132.47C45.0608 128.657 49.11 123.717 53.3322 117.828C56.0613 123.726 57.8713 130.008 58.6995 136.455C60.083 146.419 58.8903 156.837 58.3953 166.759C57.6797 180.679 58.6995 195.596 73.185 202.505Z"
            fill="url(#paint0_linear)"
          />
          <path
            d="M53.3083 117.828C49.0861 123.717 45.0368 128.657 38.1966 132.47C33.3877 135.124 28.1319 136.872 22.6913 137.625C23.1863 127.899 21.2601 117.499 18.2962 108.621C14.2469 96.4017 7.83606 86.1989 -0.0239258 76.1691C8.03286 79.3552 16.0777 81.1273 23.7111 85.4411C32.1078 90.2144 38.7572 96.3599 44.6432 103.937C48.0475 108.225 50.9545 112.884 53.3083 117.828Z"
            fill="url(#paint1_linear)"
          />
          <path
            d="M129.69 178.597C129.434 181.804 128.98 184.993 128.33 188.144C126.872 195.07 123.076 201.283 117.578 205.738C112.08 210.193 105.217 212.618 98.1425 212.606H90.9087C86.1083 212.605 81.3598 211.614 76.9589 209.696C72.558 207.778 68.5992 204.973 65.329 201.458C62.0588 197.942 59.5474 193.79 57.9513 189.26C56.3551 184.731 55.7085 179.921 56.0516 175.13C56.2901 171.777 56.7016 168.251 57.3278 164.558C59.4925 151.801 64.2753 137.112 73.5427 121.252L117.56 123.042C117.56 123.042 132.135 148.699 129.69 178.597Z"
            fill="#FF5F54"
          />
          <path
            d="M119.188 126.497L113.594 142.201C132.242 156.193 137.323 169.051 138.343 177.308C138.487 178.402 138.865 179.451 139.451 180.384C140.038 181.318 140.819 182.114 141.742 182.717C142.664 183.321 143.706 183.717 144.796 183.881C145.886 184.044 146.999 183.969 148.057 183.663C149.685 183.185 151.112 182.186 152.118 180.82C153.124 179.453 153.654 177.794 153.627 176.097C153.24 135.22 119.188 126.497 119.188 126.497Z"
            fill="#FF5F54"
          />
          <path
            d="M70.2926 192.929L95.9359 192.565L81.9991 243.579C82.0517 244.588 81.8983 245.598 81.5483 246.546C81.1983 247.495 80.659 248.362 79.9632 249.095C79.2674 249.828 78.4298 250.411 77.5013 250.81C76.5728 251.208 75.5729 251.413 74.5625 251.413C72.8156 251.414 71.1241 250.8 69.7842 249.678C68.4442 248.557 67.5412 247 67.2333 245.279L70.2926 192.929Z"
            fill="#FF5F54"
          />
          <path
            d="M97.1764 194.009L122.82 193.287L125.301 244.665C125.353 245.674 125.2 246.684 124.85 247.632C124.5 248.58 123.96 249.447 123.265 250.18C122.569 250.913 121.731 251.497 120.803 251.896C119.874 252.294 118.874 252.499 117.864 252.499C116.108 252.511 114.405 251.901 113.055 250.777C111.705 249.654 110.795 248.089 110.487 246.359L97.1764 194.009Z"
            fill="#FF5F54"
          />
          <path
            d="M123.338 175.906C123.338 178.728 123.201 181.497 122.939 184.17C122.404 189.728 119.82 194.889 115.69 198.646C111.561 202.402 106.181 204.486 100.599 204.492C95.0193 204.483 89.6425 202.395 85.517 198.636C81.3914 194.877 78.8128 189.716 78.2837 184.158C78.0213 181.485 77.8842 178.716 77.8842 175.894C77.8842 151.497 88.064 131.694 100.617 131.694C113.171 131.694 123.338 151.497 123.338 175.906Z"
            fill="#F6F0F4"
          />
          <path
            d="M129.69 178.597C127.519 179.611 125.378 180.5 123.303 181.282C104.744 188.126 89.37 185.244 77.9796 179.874C70.1686 176.161 63.1544 170.963 57.3278 164.57C59.4925 151.813 64.2753 137.123 73.5427 121.264L117.56 123.054C117.56 123.054 132.135 148.699 129.69 178.597Z"
            fill="#FFA573"
          />
          <path
            d="M122.832 173.889C113.952 178.382 99.4007 176.145 90.0916 174.397C89.4118 174.271 89.1196 175.315 89.8054 175.441C99.8719 177.326 113.856 179.617 123.374 174.844C124 174.51 123.452 173.579 122.832 173.889Z"
            fill="#511812"
          />
          <path
            d="M141.921 154.385C141.921 154.385 135.427 147.887 113.23 150.327C113.23 150.327 97.8025 153.573 92.3935 149.242L63.4344 182.547L64.7882 186.342L133.799 189.033L168.984 151.938V148.46C168.984 148.46 167.791 148.734 166.175 149.057C162.58 149.779 158.928 150.178 155.261 150.25C151.725 150.327 145.964 151.043 141.921 154.385Z"
            fill="#F6F0F4"
          />
          <path
            d="M63.0409 189.074L92.3936 153.86L138.283 158.138H148.117L170.636 151.151L133.155 191.64L116.91 192.499H104.935L63.0409 189.074Z"
            fill="#021E40"
          />
          <path
            d="M148.117 158.138L116.91 192.499H104.225L137.43 158.138H148.117Z"
            fill="#194070"
          />
          <path
            d="M75.0217 126.939C76.7164 127.563 78.1653 128.716 79.1544 130.228C80.1435 131.74 80.6202 133.53 80.5141 135.334C79.2856 154.922 85.434 167.452 90.1274 173.358C90.8037 174.229 91.2842 175.235 91.536 176.308C91.7878 177.381 91.805 178.496 91.5864 179.576C91.3678 180.656 90.9186 181.677 90.2695 182.568C89.6204 183.458 88.7867 184.198 87.8254 184.737C86.3443 185.564 84.6329 185.882 82.9536 185.643C81.2742 185.404 79.7197 184.62 78.5282 183.412C59.0453 163.895 60.7508 143.687 63.9175 132.619C64.2323 131.489 64.7777 130.438 65.5191 129.53C66.2606 128.622 67.1821 127.878 68.2254 127.344C69.2688 126.81 70.4114 126.499 71.5811 126.429C72.7508 126.359 73.9223 126.533 75.0217 126.939Z"
            fill="#FF5F54"
          />
          <path
            d="M54.5846 89.4566L54.7039 89.212C25.9714 53.8363 37.7315 23.4724 37.7315 23.4724C54.0837 37.7146 60.2798 62.2193 62.3551 73.4543L72.4157 52.7802C72.2785 51.6346 65.5933 22.1061 38.5724 17.0405C38.5963 17.0405 15.7975 68.8004 54.5846 89.4566Z"
            fill="#FF5F54"
          />
          <path
            d="M54.7039 89.212L62.379 73.4543C60.3037 62.2193 54.1076 37.7146 37.7554 23.4724C37.7316 23.4724 25.9714 53.8363 54.7039 89.212Z"
            fill="url(#paint2_linear)"
          />
          <path
            d="M116.093 70.298L138.158 77.9591C136.673 72.4519 125.533 30.2743 127.501 6.43792C150.527 29.1108 152.477 53.5737 143.084 78.9495C146.167 74.9638 162.99 50.0594 135.588 12.5536L125.921 0.0238647C125.921 0.0238647 108.042 32.4879 116.093 70.298Z"
            fill="#FF5F54"
          />
          <path
            d="M127.477 6.45581C125.509 30.2922 136.649 72.4698 138.134 77.977L142.607 79.5283C142.607 79.5283 142.774 79.3433 143.06 78.9674C152.453 53.5916 150.503 29.1287 127.477 6.45581Z"
            fill="url(#paint3_linear)"
          />
          <path
            d="M42.7648 95.3576C78.8265 99.7609 103.438 90.0533 103.438 90.0533C136.476 100.065 153.872 98.9614 163.038 95.2502C165.584 92.0356 167.708 88.5086 169.359 84.755C169.359 84.755 164.255 87.3027 162.048 85.4829C162.048 85.4829 169.747 82.4042 171.351 79.1583C171.351 79.1583 162.483 83.8839 155.601 76.6285C155.601 76.6285 137.943 32.476 98.876 31.3543C98.22 31.3543 97.564 31.3065 96.908 31.2588C93.4492 30.9843 78.8265 30.8352 65.647 45.5248C65.647 45.5248 53.8272 57.5534 44.7149 91.4077C44.2945 92.8258 43.6349 94.1617 42.7648 95.3576Z"
            fill="#FF5F54"
          />
          <path
            d="M28.9174 100.889C28.9174 100.889 37.7494 114.558 72.4037 126.097L83.4482 129.081C99.0974 133.236 115.753 131.052 129.803 123.001L130.167 122.804C130.167 122.804 150.843 111.026 163.014 95.28C153.848 98.9912 136.452 100.095 103.414 90.0831C103.414 90.0831 78.8026 99.7907 42.7409 95.3874C40.7133 98.2931 36.5925 101.676 28.9174 100.889Z"
            fill="url(#paint4_linear)"
          />
          <path
            d="M94.0336 93.0963C93.8308 95.638 97.0154 97.9709 101.106 98.2991C105.197 98.6273 108.716 96.8433 108.919 94.3015C109.121 91.7598 105.937 89.4268 101.852 89.0927C97.7668 88.7586 94.2423 90.5843 94.0336 93.0963Z"
            fill="#511812"
          />
          <path
            d="M134.407 103.156C134.198 105.698 137.389 108.025 141.474 108.359C145.559 108.693 149.083 106.903 149.286 104.355C149.489 101.807 146.304 99.4805 142.219 99.1523C138.134 98.8241 134.61 100.608 134.407 103.156Z"
            fill="#FFCDD4"
          />
          <path
            d="M54.8947 102.631C54.6264 105.167 57.7274 107.583 61.8244 108.001C65.9214 108.418 69.4697 106.742 69.744 104.206C70.0183 101.67 66.9173 99.2538 62.8143 98.8361C58.7114 98.4184 55.169 100.095 54.8947 102.631Z"
            fill="#FFCDD4"
          />
          <path
            d="M73.6441 93.9375C76.1786 93.6392 77.8186 90.0771 77.3654 85.9841C76.9121 81.891 74.4432 78.8242 71.9147 79.0987C69.3861 79.3731 67.7402 82.959 68.1934 87.0521C68.6466 91.1452 71.1275 94.2358 73.6441 93.9375Z"
            fill="#511812"
          />
          <path
            d="M129.314 93.2872C131.849 92.9948 133.489 89.4328 133.035 85.3337C132.582 81.2347 130.113 78.1739 127.585 78.4483C125.056 78.7228 123.41 82.3087 123.863 86.4077C124.317 90.5067 126.78 93.5676 129.314 93.2872Z"
            fill="#511812"
          />
          <path
            d="M86.9668 98.6093V98.6392C89.9485 107.696 97.7429 106.282 97.8264 106.264C98.1079 106.21 98.3563 106.046 98.5168 105.808C98.6773 105.57 98.7368 105.278 98.6822 104.997C98.6276 104.715 98.4635 104.466 98.2258 104.306C97.9881 104.145 97.6965 104.086 97.4149 104.14C97.1466 104.188 91.3798 105.155 89.0242 97.965C88.927 97.7052 88.7341 97.4925 88.4851 97.3705C88.2361 97.2485 87.9499 97.2265 87.6852 97.3089C87.4205 97.3913 87.1973 97.572 87.0615 97.8138C86.9257 98.0556 86.8875 98.3403 86.9548 98.6093H86.9668Z"
            fill="#511812"
          />
          <path
            d="M35.9424 111.73C35.4534 111.229 34.6841 111.992 35.1731 112.494C51.6743 129.337 52.9744 158.287 46.319 179.868C46.2931 180.002 46.3188 180.141 46.3909 180.258C46.4631 180.374 46.5765 180.458 46.7083 180.495C46.8402 180.531 46.9808 180.516 47.1021 180.453C47.2234 180.39 47.3165 180.283 47.3626 180.154C54.1194 158.162 52.7299 128.896 35.9424 111.73Z"
            fill="#511812"
          />
          <path
            d="M39.6875 134.456C38.7095 128.943 37.2663 120.077 32.4418 116.431C31.8812 116.014 31.3445 116.957 31.8931 117.368C37.809 121.837 39.1031 136.318 39.5802 142.78C40.1169 149.975 39.7949 157.195 39.4251 164.397C39.3893 165.095 40.4747 165.089 40.5105 164.397C41.0174 154.426 41.4349 144.325 39.6875 134.456Z"
            fill="#511812"
          />
        </g>
        <defs>
          <linearGradient
            id="paint0_linear"
            x1="25"
            y1="140"
            x2="76"
            y2="203"
            gradientUnits="userSpaceOnUse"
          >
            <stop stop-color="#F6625A" />
            <stop
              offset="1"
              stop-color="#D95149"
            />
          </linearGradient>
          <linearGradient
            id="paint1_linear"
            x1="7.96323"
            y1="88.0192"
            x2="51.3457"
            y2="90.3795"
            gradientUnits="userSpaceOnUse"
          >
            <stop stop-color="#FFECEF" />
            <stop
              offset="1"
              stop-color="white"
            />
          </linearGradient>
          <linearGradient
            id="paint2_linear"
            x1="39.4003"
            y1="36.1486"
            x2="61.4349"
            y2="36.7166"
            gradientUnits="userSpaceOnUse"
          >
            <stop stop-color="#FFECEF" />
            <stop
              offset="1"
              stop-color="white"
            />
          </linearGradient>
          <linearGradient
            id="paint3_linear"
            x1="130.404"
            y1="20.546"
            x2="147.609"
            y2="20.8573"
            gradientUnits="userSpaceOnUse"
          >
            <stop stop-color="#FFECEF" />
            <stop
              offset="1"
              stop-color="white"
            />
          </linearGradient>
          <linearGradient
            id="paint4_linear"
            x1="49"
            y1="98"
            x2="154"
            y2="119.5"
            gradientUnits="userSpaceOnUse"
          >
            <stop stop-color="#FFECEF" />
            <stop
              offset="1"
              stop-color="white"
            />
          </linearGradient>
          <clipPath id="clip0">
            <rect
              width="184"
              height="263"
              fill="white"
            />
          </clipPath>
        </defs>
      </svg>
    </div>
    <div class="home-block__bottom">
      <router-link
        to="/login"
        class="btn btn_rounded"
      >
        Sign in
      </router-link>
      <router-link
        to="/register"
        class="home-block__bottom-link"
      >
        Create an account
      </router-link>
    </div>
  </div>
</template>

<script>
import messages from '@/plugins/messages'

export default {
  name: 'Start',
  data: () => ({
    svg: {
      path: ''
    },
    lines: {}
  }),
  mounted () {
    if (messages[this.$route.query.message]) {
      this.$message(messages[this.$route.query.message] || 'Непредсказуемый какой чорт!')
    }
    this.svg.path = {
      lineTop: this.$refs.lineTop,
      lineMiddle: this.$refs.lineMiddle,
      lineBottom: this.$refs.lineBottom,
      circle1: this.$refs.circle1,
      circle2: this.$refs.circle2,
      circle3: this.$refs.circle3
    }

    this.init(this.svg.path.lineTop)
    this.init(this.svg.path.lineMiddle)
    this.init(this.svg.path.lineBottom)
    this.start(this.svg.path.lineBottom)
    setTimeout(() => {
      this.svg.path.circle1.style.opacity = '1'
    }, 1500)
    setTimeout(() => {
      this.svg.path.circle2.style.opacity = '1'
    }, 2000)
    setTimeout(() => {
      this.svg.path.circle3.style.opacity = '1'
    }, 3500)
    setTimeout(() => {
      this.start(this.svg.path.lineMiddle)
    }, 2000)
    setTimeout(() => {
      this.start(this.svg.path.lineTop)
    }, 4000)
  },
  methods: {
    init (object) {
      var length = object.getTotalLength()
      object.style.transition = object.style.WebkitTransition = 'none'
      object.style.strokeDasharray = length + ' ' + length
      object.style.strokeDashoffset = length
      object.getBoundingClientRect()
      object.style.transition = object.style.WebkitTransition = 'stroke-dashoffset 2s ease-in-out'
    },
    start (object) {
      object.style.strokeDashoffset = '0'
    }
  }
}
</script>
<style scoped>
  body{
    background: #F5EDE2;
  }
</style>
